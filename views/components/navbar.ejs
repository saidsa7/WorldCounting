<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <nav class="bg-gray-800 text-white p-4">
      <div class="container  mx-auto flex justify-between items-center">
        <!-- Logo -->
        <a href="/home" class="text-2xl font-bold">WordCounter</a>

        <!-- Desktop Links -->
        <ul class=" hidden md:flex space-x-6">
         
          <li>
            <a
              href="/home"
              class=" hover:text-gray-300 <%= currentPage === "home" ? "bg-gray-600" : null %> p-2 rounded-lg"
              >Home</a
            >
          </li>
          
             <% if (user) { %>
                <li  >
            <form  action="/search" method="post" >
                <input  name="searchTerm" style="color: black;" type="text">
               
            <button
             
              class="ml-2  hover:text-gray-300 <%= currentPage === "search" ? "bg-gray-600" : null %>  rounded-lg px-2 "
              >search</button
            >
            </form>
          
          </li>
                <h4> Welcome <%= user.username %></h4>  

          <li>
            <a onclick="openLogoutModal()"  class="hover:text-gray-300  p-2 rounded-lg cursor-pointer  "
              >Logout
            </a>
          </li>

       
            <% } else { %>
                        
          <li>
            <a href="/login" class="hover:text-gray-300 <%= currentPage === "login" ? "bg-gray-600" : null %>  p-2 rounded-lg"
              >Login</a
            >
          </li>
          <li>
            <a href="signup" class="hover:text-gray-300 <%= currentPage === "signup" ? "bg-gray-600" : null %> p-2 rounded-lg"
              >Sign up</a
            >
          </li>

              <% } %>
             
         
        </ul>

        <!-- Hamburger Button (mobile) -->
        <button id="menuBtn" class="md:hidden text-2xl">â˜°</button>
      </div>

      <!-- Mobile Menu -->
      <ul
        id="mobileMenu"
        class="md:hidden hidden flex-col space-y-4 mt-4 pl-4 pb-4"
      >
        <li>
          <a href="/home" class="block hover:text-gray-300 <%= currentPage === "home" ? "bg-gray-600" : null %> p-2 rounded-lg"
            >Home</a
          >
        </li>
        <li>
          <a href="/login" class="block hover:text-gray-300 <%= currentPage === "login" ? "bg-gray-600" : null %> p-2 rounded-lg"
            >Login</a
          >
        </li>
        <li>
          <a href="/signup" class="block hover:text-gray-300 <%= currentPage === "signup" ? "bg-gray-600" : null %> p-2 rounded-lg"
            >Sign up</a
          >
        </li>
      </ul>
    </nav>

       <!--  logout Confirmation Modal -->
            <div
              id="logoutModal"
              class="fixed inset-0 hidden bg-black bg-opacity-50 flex items-center justify-center z-50"
            >
              <div class="bg-white p-6 rounded-lg shadow-lg w-80">
                <p class="mb-4 text-gray-800">
                Are you sure You want to Logout ?
                </p>
                <div class="flex justify-end gap-2">
                  
                    <button
                      onclick="logout()"
                      class="px-4 py-2 bg-red-600 text-white rounded"
                    >
                      Confirm
                    </button>
                  
                  <button
                    onclick="closeLogoutModal()"
                    class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </div>
    <script>
         //  Modal logic
         function logout(){
          window.location.href= "/logout"
         }
      function openLogoutModal() {
        document.getElementById("logoutModal").classList.remove("hidden");
      }

      function closeLogoutModal() {
        document.getElementById("logoutModal").classList.add("hidden");
      }
    </script>
  </body>
</html>